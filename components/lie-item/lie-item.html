<article class="lie-item" :class="{ '-is-a-lie': isALie, '-is-not-a-lie': !isALie, '-is-ready': isReady }">
    <div class="lie-item-header">
        <figure class="lie-item-figure" :style="{ color: liePictureMainColor }">
            <img :src="liePicture('main')" :alt="$t('lie.picture', { liar: lie.liar })" class="lie-item-picture -main" @load="checkIfReady">
        </figure>

        <h2 class="lie-item-title">{{ lie.title }}</h2>

        <p class="lie-item-liar">{{ lie.liar }}</p>
    </div>

    <div class="lie-item-content">
        <div class="lie-item-votes">
            <div class="lie-item-vote -liar" :class="{ '-is-actual-vote': actualVoteValue === 'liar' }">
                <div class="lie-item-vote-bar -liar">
                    <div class="lie-item-vote-bar-part" :style="{ width: lieVotesPercentageLiar + '%' }"></div>
                    <div class="lie-item-vote-bar-part"></div>
                </div>
                <div class="lie-item-vote-count -liar">
                    {{ lieVotesCountLiar }}
                    <svg-icon name="checked" class="lie-item-vote-indicator"></svg-icon>
                </div>
                <button type="button" class="lie-item-vote-button -liar" @click="voteLiar">{{ $t('lie.votes.liar') }}</button>
            </div>
            <div class="lie-item-vote -not-liar" :class="{ '-is-actual-vote': actualVoteValue === 'notLiar' }">
                <div class="lie-item-vote-bar -not-liar">
                    <div class="lie-item-vote-bar-part" :style="{ width: lieVotesPercentageNotLiar + '%' }"></div>
                    <div class="lie-item-vote-bar-part"></div>
                </div>
                <div class="lie-item-vote-count -not-liar">
                    {{ lieVotesCountNotLiar }}
                    <svg-icon name="checked" class="lie-item-vote-indicator"></svg-icon>
                </div>
                <button type="button" class="lie-item-vote-button -not-liar" @click="voteNotLiar">{{ $t('lie.votes.notLiar') }}</button>
            </div>
        </div>

        <div class="lie-item-more">
            <div class="lie-item-more-content" v-if="lieTextChunks.length" v-expand="isExpanded">
                <div class="lie-item-text">
                    <p class="lie-item-text-chunk" v-for="textChunk in lieTextChunks">{{ textChunk }}</p>
                </div>

                <div class="lie-item-sources-wrapper">
                    <h3 class="lie-item-sources-title -statements">{{ $tc('lie.sources.statementsTitle', lieSources('statements').length) }}</h3>
                    <ul class="lie-item-sources -statements" v-for="source in lieSources('statements')">
                        <li class="lie-item-source">
                            <a :href="source" target="_blank" class="lie-item-source-link -statement">{{ source }}</a>
                        </li>
                    </ul>

                    <h3 class="lie-item-sources-title -refutations" v-if="lieSources('refutations')">{{ $tc('lie.sources.refutationsTitle', lieSources('refutations').length) }}</h3>
                    <ul class="lie-item-sources -refutations" v-for="source in lieSources('refutations')">
                        <li class="lie-item-source">
                            <a :href="source" target="_blank" class="lie-item-source-link -refutation">{{ source }}</a>
                        </li>
                    </ul>

                    <h3 class="lie-item-sources-title -confirmations" v-if="lieSources('confirmations')">{{ $tc('lie.sources.confirmationsTitle', lieSources('confirmations').length) }}</h3>
                    <ul class="lie-item-sources -confirmations" v-for="source in lieSources('confirmations')">
                        <li class="lie-item-source">
                            <a :href="source" target="_blank" class="lie-item-source-link -confirmation">{{ source }}</a>
                        </li>
                    </ul>
                </div>
            </div>

            <button type="button" class="lie-item-more-button" @click="toggleContent">{{ $t(isExpanded ? 'lie.readLess' : 'lie.readMore') }}</button>
        </div>

    </div>

</article>
